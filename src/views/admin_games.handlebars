{{! admin_games.handlebars }}
{{#> layouts/main title="Gestión de Partidas" }}
<div class="admin-games-dashboard">
  <h1>Gestión de Partidas</h1>
  <div class="tabs">
  <a href="/admin/games/tournaments/list" class="tab-link active" data-tab="torneos">Torneos</a>
  <a href="/admin/games/cash/list" class="tab-link" data-tab="cash">Cash Games</a>
  <a href="/admin/games/ranking" class="tab-link" data-tab="resumen">Ranking / Resumen</a>
  </div>
  <div class="tab-content" id="tab-torneos">
    <div class="tab-header">
      <h2>Torneos</h2>
      <a href="/admin/tournaments/new" class="btn btn-primary">+ Nuevo Torneo</a>
    </div>
    <div id="tournaments-list">
      {{> tournaments/list tournaments=tournaments}}
    </div>
  </div>
  <div class="tab-content" id="tab-cash" style="display:none;">
    <div class="tab-header">
      <h2>Cash Games</h2>
      <a href="/admin/cash/new" class="btn btn-primary">+ Nueva Mesa Cash</a>
    </div>
    <div id="cashgames-list">
      {{> cash/list cashGames=cashGames}}
    </div>
  </div>
  <div class="tab-content" id="tab-resumen" style="display:none;">
    <div class="tab-header">
      <h2>Resumen en Vivo</h2>
    </div>
    <div id="live-summary">
      {{> admin/live_summary summary=summary}}
    </div>
  </div>
</div>
<script>
  // Simple tab logic
  document.addEventListener('DOMContentLoaded', function() {
    const tabLinks = document.querySelectorAll('.tab-link');
    const tabContents = document.querySelectorAll('.tab-content');
    tabLinks.forEach(link => {
      link.addEventListener('click', function() {
        tabLinks.forEach(l => l.classList.remove('active'));
        tabContents.forEach(c => c.style.display = 'none');
        this.classList.add('active');
        document.getElementById('tab-' + this.dataset.tab).style.display = '';
      });
    });
  });
</script>
<style>
  .admin-games-dashboard { max-width: 1200px; margin: 0 auto; padding: 2rem; }
  .tabs { display: flex; gap: 1rem; margin-bottom: 2rem; }
  .tab-link { background: #f5f5f5; border: none; padding: 1rem 2rem; cursor: pointer; border-radius: 8px 8px 0 0; font-weight: bold; }
  .tab-link.active { background: #fff; border-bottom: 2px solid #007bff; color: #007bff; }
  .tab-content { background: #fff; border-radius: 0 8px 8px 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 2rem; }
  .tab-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
  .btn.btn-primary { background: #007bff; color: #fff; border: none; padding: 0.5rem 1.5rem; border-radius: 4px; text-decoration: none; font-weight: bold; }
  .btn.btn-primary:hover { background: #0056b3; }
</style>
{{/layouts/main}}
