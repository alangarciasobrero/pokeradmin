{{!-- PÃ¡gina de configuraciÃ³n mejorada con diseÃ±o moderno --}}

<div class="settings-container">
	<div class="settings-header">
		<h1>âš™ï¸ ConfiguraciÃ³n del Sistema</h1>
		<p class="subtitle">Personaliza la experiencia de PokerAdmin</p>
	</div>

	{{#if flash}}
		<div class="alert alert-{{flash.type}}">
			{{#ifEquals flash.type 'success'}}âœ…{{else}}âš ï¸{{/ifEquals}} {{flash.message}}
		</div>
	{{/if}}

	<div class="settings-grid">
		
		{{!-- SecciÃ³n: DistribuciÃ³n de Puntos --}}
		<div class="settings-card">
			<div class="card-icon">ğŸ†</div>
			<h2>DistribuciÃ³n de Puntos</h2>
			<p class="card-description">Configura cÃ³mo se reparten los puntos de ranking por posiciÃ³n</p>
			
			<form method="post" action="/admin/games/settings/points" class="settings-form">
				<div class="form-grid">
					<div class="form-field">
						<label>ğŸ¥‡ 1Âº Lugar (%)</label>
						<input type="number" name="pos1" value="{{#if pointsData.1}}{{pointsData.1}}{{else}}23{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>ğŸ¥ˆ 2Âº Lugar (%)</label>
						<input type="number" name="pos2" value="{{#if pointsData.2}}{{pointsData.2}}{{else}}17{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>ğŸ¥‰ 3Âº Lugar (%)</label>
						<input type="number" name="pos3" value="{{#if pointsData.3}}{{pointsData.3}}{{else}}14{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>4Âº Lugar (%)</label>
						<input type="number" name="pos4" value="{{#if pointsData.4}}{{pointsData.4}}{{else}}11{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>5Âº Lugar (%)</label>
						<input type="number" name="pos5" value="{{#if pointsData.5}}{{pointsData.5}}{{else}}9{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>6Âº Lugar (%)</label>
						<input type="number" name="pos6" value="{{#if pointsData.6}}{{pointsData.6}}{{else}}8{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>7Âº Lugar (%)</label>
						<input type="number" name="pos7" value="{{#if pointsData.7}}{{pointsData.7}}{{else}}7{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>8Âº Lugar (%)</label>
						<input type="number" name="pos8" value="{{#if pointsData.8}}{{pointsData.8}}{{else}}6{{/if}}" min="0" max="100" step="0.1" required />
					</div>
					<div class="form-field">
						<label>9Âº Lugar (%)</label>
						<input type="number" name="pos9" value="{{#if pointsData.9}}{{pointsData.9}}{{else}}5{{/if}}" min="0" max="100" step="0.1" required />
					</div>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary">ğŸ’¾ Guardar Puntos</button>
				</div>
			</form>
		</div>

		{{!-- SecciÃ³n: ConfiguraciÃ³n de Comisiones --}}
		<div class="settings-card">
			<div class="card-icon">ğŸ’°</div>
			<h2>Comisiones</h2>
			<p class="card-description">Define los porcentajes de comisiÃ³n para mesas cash</p>
			
			<form method="post" action="/admin/games/settings/commissions" class="settings-form">
				<div class="form-group">
					<label>ComisiÃ³n base (%)</label>
					<input type="number" name="commission_rate" value="{{config.commission_rate}}" min="0" max="20" step="0.1" />
					<small>Porcentaje de comisiÃ³n sobre el buy-in</small>
				</div>
				<div class="form-group">
					<label>ComisiÃ³n mÃ­nima ($)</label>
					<input type="number" name="commission_min" value="{{config.commission_min}}" min="0" step="0.5" />
				</div>
				<div class="form-group">
					<label>ComisiÃ³n mÃ¡xima ($)</label>
					<input type="number" name="commission_max" value="{{config.commission_max}}" min="0" step="1" />
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary">ğŸ’¾ Guardar Comisiones</button>
				</div>
			</form>
		</div>

		{{!-- SecciÃ³n: ConfiguraciÃ³n General --}}
		<div class="settings-card">
			<div class="card-icon">ğŸ®</div>
			<h2>ConfiguraciÃ³n General</h2>
			<p class="card-description">Ajustes generales del sistema</p>
			
			<form method="post" action="/admin/games/settings/general" class="settings-form">
				<div class="form-group">
					<label>ğŸ’µ Buy-in predeterminado</label>
					<input type="number" name="default_buyin" value="{{config.default_buyin}}" min="1" step="1" />
				</div>
				<div class="form-group">
					<label>ğŸ”„ Re-entry predeterminado</label>
					<input type="number" name="default_reentry" value="{{config.default_reentry}}" min="1" step="1" />
				</div>
				<div class="form-group">
					<label>ğŸ¯ Bounty predeterminado</label>
					<input type="number" name="default_bounty" value="{{config.default_bounty}}" min="0" step="1" />
				</div>
				<div class="form-group">
					<label>â° Niveles de ciegas por defecto</label>
					<input type="text" name="default_blind_levels" value="{{config.default_blind_levels}}" placeholder="25/50" />
					<small>Formato: pequeÃ±a/grande (ej: 25/50)</small>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary">ğŸ’¾ Guardar General</button>
				</div>
			</form>
		</div>

		{{!-- SecciÃ³n: Idioma --}}
		<div class="settings-card">
			<div class="card-icon">ğŸŒ</div>
			<h2>Idioma / Language</h2>
			<p class="card-description">Selecciona el idioma de la interfaz</p>
			
			<form method="post" action="/admin/games/settings/language" class="settings-form">
				<div class="language-options">
					<label class="language-option">
						<input type="radio" name="language" value="es" {{#if (eq config.language 'es')}}checked{{/if}} />
						<div class="language-card">
							<span class="flag">ğŸ‡¦ğŸ‡·</span>
							<span class="lang-name">EspaÃ±ol</span>
						</div>
					</label>
					<label class="language-option">
						<input type="radio" name="language" value="en" {{#if (eq config.language 'en')}}checked{{/if}} />
						<div class="language-card">
							<span class="flag">ğŸ‡ºğŸ‡¸</span>
							<span class="lang-name">English</span>
						</div>
					</label>
					<label class="language-option">
						<input type="radio" name="language" value="pt" {{#if (eq config.language 'pt')}}checked{{/if}} />
						<div class="language-card">
							<span class="flag">ğŸ‡§ğŸ‡·</span>
							<span class="lang-name">PortuguÃªs</span>
						</div>
					</label>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn btn-primary">ğŸ’¾ Guardar Idioma</button>
				</div>
			</form>
		</div>

		{{!-- SecciÃ³n: Accesos RÃ¡pidos --}}
		<div class="settings-card">
			<div class="card-icon">ğŸš€</div>
			<h2>Accesos RÃ¡pidos</h2>
			<p class="card-description">Herramientas y utilidades del sistema</p>
			
			<div class="quick-actions">
				<a href="/admin/bonus/calculate" class="quick-action">
					<span class="action-icon">ğŸ</span>
					<div class="action-content">
						<strong>Bonus Asistencia</strong>
						<small>Calcular y otorgar bonus</small>
					</div>
				</a>
				<a href="/admin/games/settings/pools" class="quick-action">
					<span class="action-icon">ğŸ“Š</span>
					<div class="action-content">
						<strong>Pozos Acumulados</strong>
						<small>Ver dashboard de pozos</small>
					</div>
				</a>
				<a href="/admin/seasons" class="quick-action">
					<span class="action-icon">ğŸ“…</span>
					<div class="action-content">
						<strong>Temporadas</strong>
						<small>Gestionar temporadas</small>
					</div>
				</a>
				<a href="/admin/games/rankings" class="quick-action">
					<span class="action-icon">ğŸ†</span>
					<div class="action-content">
						<strong>Rankings</strong>
						<small>Ver clasificaciones</small>
					</div>
				</a>
			</div>
		</div>

		{{!-- SecciÃ³n: Sistema --}}
		<div class="settings-card">
			<div class="card-icon">ğŸ’»</div>
			<h2>Sistema</h2>
			<p class="card-description">InformaciÃ³n y mantenimiento</p>
			
			<div class="system-info">
				<div class="info-row">
					<span class="info-label">VersiÃ³n:</span>
					<span class="info-value">v2.0.0</span>
				</div>
				<div class="info-row">
					<span class="info-label">Base de datos:</span>
					<span class="info-value">MySQL 8.0</span>
				</div>
				<div class="info-row">
					<span class="info-label">Backups:</span>
					<span class="info-value">data/backups/</span>
				</div>
			</div>
			
			<div class="system-actions">
				<button type="button" class="btn btn-warning" onclick="if(confirm('Â¿Crear backup de la base de datos?')) alert('Funcionalidad en desarrollo')">
					ğŸ’¾ Crear Backup
				</button>
				<button type="button" class="btn btn-secondary" onclick="alert('Cache limpiado')">
					ğŸ§¹ Limpiar Cache
				</button>
			</div>
		</div>

	</div>
</div>

<style>
.settings-container {
	max-width: 1400px;
	margin: 2rem auto;
	padding: 0 2rem;
}

.settings-header {
	text-align: center;
	margin-bottom: 3rem;
}

.settings-header h1 {
	color: #FFD700;
	font-size: 2.5rem;
	margin-bottom: 0.5rem;
}

.subtitle {
	color: rgba(255, 255, 255, 0.7);
	font-size: 1.1rem;
}

.alert {
	padding: 1rem 1.5rem;
	border-radius: 8px;
	margin-bottom: 2rem;
	text-align: center;
	font-weight: 600;
}

.alert-success {
	background: rgba(76, 175, 80, 0.1);
	border: 1px solid rgba(76, 175, 80, 0.3);
	color: #4CAF50;
}

.alert-error {
	background: rgba(244, 67, 54, 0.1);
	border: 1px solid rgba(244, 67, 54, 0.3);
	color: #f44336;
}

.settings-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
	gap: 2rem;
}

.settings-card {
	background: rgba(255, 255, 255, 0.03);
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 16px;
	padding: 2rem;
	transition: all 0.3s ease;
}

.settings-card:hover {
	border-color: rgba(255, 215, 0, 0.3);
	box-shadow: 0 8px 32px rgba(255, 215, 0, 0.1);
}

.card-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.settings-card h2 {
	color: #FFD700;
	margin: 0 0 0.5rem 0;
	font-size: 1.5rem;
}

.card-description {
	color: rgba(255, 255, 255, 0.6);
	margin-bottom: 1.5rem;
	font-size: 0.95rem;
}

.settings-form {
	margin-top: 1.5rem;
}

.form-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
	gap: 1rem;
	margin-bottom: 1.5rem;
}

.form-field label,
.form-group label {
	display: block;
	color: #FFD700;
	font-weight: 600;
	margin-bottom: 0.5rem;
	font-size: 0.9rem;
}

.form-field input,
.form-group input,
.form-group select {
	width: 100%;
	padding: 0.75rem;
	background: rgba(255, 255, 255, 0.05);
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 8px;
	color: #fff;
	font-size: 1rem;
	transition: all 0.3s ease;
}

.form-field input:focus,
.form-group input:focus {
	border-color: rgba(255, 215, 0, 0.5);
	outline: none;
}

.form-group {
	margin-bottom: 1.5rem;
}

.form-group small {
	display: block;
	margin-top: 0.25rem;
	color: rgba(255, 255, 255, 0.5);
	font-size: 0.85rem;
}

.form-actions {
	display: flex;
	justify-content: flex-end;
	margin-top: 1.5rem;
}

.btn {
	padding: 0.75rem 2rem;
	border: none;
	border-radius: 8px;
	font-weight: 700;
	cursor: pointer;
	transition: all 0.3s ease;
	font-size: 1rem;
}

.btn-primary {
	background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.1));
	border: 2px solid #FFD700;
	color: #FFD700;
}

.btn-primary:hover {
	background: linear-gradient(135deg, rgba(255, 215, 0, 0.4), rgba(255, 215, 0, 0.2));
	transform: translateY(-2px);
}

.btn-warning {
	background: rgba(255, 152, 0, 0.1);
	border: 2px solid rgba(255, 152, 0, 0.3);
	color: #FF9800;
}

.btn-secondary {
	background: rgba(158, 158, 158, 0.1);
	border: 2px solid rgba(158, 158, 158, 0.3);
	color: #9e9e9e;
}

.language-options {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
	gap: 1rem;
	margin-bottom: 1.5rem;
}

.language-option {
	cursor: pointer;
}

.language-option input {
	display: none;
}

.language-card {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.5rem;
	padding: 1rem;
	background: rgba(255, 255, 255, 0.03);
	border: 2px solid rgba(255, 255, 255, 0.1);
	border-radius: 12px;
	transition: all 0.3s ease;
}

.language-option input:checked + .language-card {
	border-color: #FFD700;
	background: rgba(255, 215, 0, 0.1);
}

.language-card .flag {
	font-size: 2.5rem;
}

.language-card .lang-name {
	color: #fff;
	font-weight: 600;
}

.quick-actions {
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

.quick-action {
	display: flex;
	align-items: center;
	gap: 1rem;
	padding: 1rem;
	background: rgba(255, 255, 255, 0.03);
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 10px;
	text-decoration: none;
	color: inherit;
	transition: all 0.3s ease;
}

.quick-action:hover {
	border-color: rgba(255, 215, 0, 0.5);
	background: rgba(255, 215, 0, 0.05);
	transform: translateX(5px);
}

.action-icon {
	font-size: 2rem;
}

.action-content strong {
	display: block;
	color: #FFD700;
	margin-bottom: 0.25rem;
}

.action-content small {
	color: rgba(255, 255, 255, 0.6);
	font-size: 0.85rem;
}

.system-info {
	margin-bottom: 1.5rem;
}

.info-row {
	display: flex;
	justify-content: space-between;
	padding: 0.75rem 0;
	border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.info-label {
	color: rgba(255, 255, 255, 0.6);
}

.info-value {
	color: #FFD700;
	font-weight: 600;
}

.system-actions {
	display: flex;
	gap: 1rem;
	flex-wrap: wrap;
}

@media (max-width: 768px) {
	.settings-grid {
		grid-template-columns: 1fr;
	}
	
	.form-grid {
		grid-template-columns: repeat(2, 1fr);
	}
}
</style>
