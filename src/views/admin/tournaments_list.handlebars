{{#> layouts/main title="Admin - Torneos" }}
<h1>Gestión de Torneos (Admin)</h1>
<a href="/admin/games/tournaments/new" class="btn">+ Nuevo Torneo</a>
{{#if tournaments.length}}
  <div class="admin-items">
    {{#each tournaments}}
      <div class="item">
        <a href="/admin/games/tournaments/{{id}}">{{tournament_name}}</a>
        <div class="meta">Fecha: {{start_date}} — Buy-in: ${{buy_in}}</div>
      </div>
    {{/each}}
  </div>
  {{#if meta}}
    <nav class="pagination">
      {{#if links.prev}}<a class="btn" href="{{links.prev}}">← Anterior</a>{{/if}}
      <span> Página {{meta.page}} / {{meta.total_pages}} </span>
      {{#if links.next}}<a class="btn" href="{{links.next}}">Siguiente →</a>{{/if}}
    </nav>
    <div class="page-numbers">
      {{#each (range 1 meta.total_pages)}}
        {{#ifEquals this ../meta.page}}
          <strong>{{this}}</strong>
        {{else}}
          <a href="/admin/games/tournaments/list?page={{this}}&per_page={{../meta.per_page}}">{{this}}</a>
        {{/ifEquals}}
      {{/each}}
    </div>
  {{/if}}
{{else}}
  <div>No hay torneos.</div>
{{/if}}
{{/layouts/main}}
